<mvc:View
    controllerName="ymdb_wizard.controller.App"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    height="100%"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:u="sap.ui.unified"
    xmlns:upload="sap.m.upload">

    <App id="app">
        <NavContainer id="wizardNavContainer">
            <pages>
                <Page id="wizardContentPage" 
                        showHeader="true" 
                        title="{i18n>wizardTitle}"
                        titleLevel="Auto">
                    <content>

                        <Wizard 
                            id="WarrantyPortalWizard"
                            class="sapUiResponsivePadding--header sapUiResponsivePadding--content"
                            complete="wizardCompletedHandler">

                            <!-- first step - General Details -->
                            <WizardStep 
                                id="generalDetailsStep"
                                title="{i18n>genDetailsPageTitle}"
                                validated="false"
                                activate="genInfoValidation">
                                <MessageStrip 
                                    class="sapUiSmallMarginBottom"
                                    text="{i18n>genDetailsMessageStripText}"
                                    showIcon="true"/>
                                <Text 
                                    class="sapUiSmallMarginBottom"
                                    text="{i18n>genDetailsText}"/>
                                <form:SimpleForm 
                                    editable="true"
                                    layout="ResponsiveGridLayout">

                                    <!-- field - claimType  -->
                                    <Label text="{i18n>claimType}" required="true" />
                                    <Select
                                        id="claimType"
                                        selectedKey="{/SelectedClaim}"
                                        items="{
                                            path: '/ClaimCollection',
                                            sorter: { path: 'claimName' }
                                        }">
                                        <core:Item key="{claimId}" text="{claimName}" />
                                    </Select>

                                    <!-- field - vin number  -->
                                    <Label text="{i18n>vinNumber}" required="true" class="sapUiSmallMarginTop"/>
                                    <!-- <Input 
                                        valueStateText="{i18n>notNullText}"
                                        valueState="{/vinNumberState}" 
                                        id="vinNumber"
                                        liveChange="genInfoValidation"
                                        placeholder="{i18n>vinNumberInputText}"
                                        value="{/vinNumber}"/> -->
                                    <SearchField width="100%" class="sapUiSmallMarginTop" />
                                </form:SimpleForm>
                                
                                <!-- <HBox
                                    justifyContent="End"
                                    width="100%"
                                    class="sapUiSmallMarginTop sapUiNoContentPadding sapUiTinyMarginEnd">
                                    <Button
                                        text="{i18n>buttonText}"
                                        type="Emphasized"
                                        press="onPress" />
                                </HBox> -->
                            </WizardStep>

                            <!-- second step - Header Details -->
                            <WizardStep id="docDataStep" title="{i18n>docDataStepTitle}">
                                <form:SimpleForm
                                    editable="true"
                                    layout="ResponsiveGridLayout">

                                    <!-- field - repair start date  -->
                                    <Label text="{i18n>repStartDate}" required="true"/>
                                    <DatePicker 
                                        id="repStartDate"
                                        displayFormat="short"
                                        value="{/repStartDate}"/>

                                    <!-- field - repair end date  -->
                                    <Label text="{i18n>repEndDate}" />
                                    <DatePicker 
                                        id="repEndDate"
                                        displayFormat="short"
                                        value="{/repEndDate}"/>

                                    <!-- field - odometer reading  -->
                                    <Label text="{i18n>odoReading}" required="true"/>
                                    <Input 
                                        valueStateText="{i18n>notNullText}"
                                        valueState="{/odoReadingState}" 
                                        id="odoReading"
                                        liveChange="genInfoValidation"
                                        placeholder="{i18n>odoReadingInputText}"
                                        value="{/odoReading}"/>

                                    <!-- field - service order number -->
                                    <Label text="{i18n>serOrderNo}" required="true"/>
                                    <Input 
                                        valueStateText="{i18n>notNullText}"
                                        valueState="{/serOrderNoState}" 
                                        id="serOrderNo"
                                        liveChange="genInfoValidation"
                                        placeholder="{i18n>serOrderNoInputText}"
                                        value="{/serOrderNo}"/>

                                    <!-- field - distributor -->
                                    <Label text="{i18n>distributor}" required="true"/>
                                    <Input 
                                        valueStateText="{i18n>notNullText}"
                                        valueState="{/distributorState}" 
                                        id="distributor"
                                        liveChange="genInfoValidation"
                                        placeholder="{i18n>distributorInputText}"
                                        value="{/distributor}"/>

                                    <!-- field - campaignNo -->
                                    <Label text="{i18n>campaignNo}" required="true"/>
                                    <Input 
                                        valueStateText="{i18n>notNullText}"
                                        valueState="{/campaignNoState}" 
                                        id="campaignNo"
                                        liveChange="genInfoValidation"
                                        placeholder="{i18n>campaignNoInputText}"
                                        value="{/campaignNo}"/>
                                </form:SimpleForm>
                            </WizardStep>

                            <!-- third step - version details  -->
                            <WizardStep id="versionDataStep" title="{i18n>versionDataStepTitle}">
                                <form:SimpleForm editable="true" layout="ResponsiveGridLayout">
                                
                                    <!-- field - PFP  -->
                                    <Label text="{i18n>PFP}" required="true"/>
                                    <Input 
                                        valueStateText="{i18n>notNullText}"
                                        valueState="{/PFPState}" 
                                        id="PFP"
                                        liveChange="genInfoValidation"
                                        placeholder="{i18n>PFPInputText}"
                                        value="{/PFP}"/>

                                    <!-- field - symptoms  -->
                                    <Label text="{i18n>symptoms}" required="true"/>
                                    <Input 
                                        valueStateText="{i18n>notNullText}"
                                        valueState="{/symptomsState}" 
                                        id="symptoms"
                                        liveChange="genInfoValidation"
                                        placeholder="{i18n>symptomsInputText}"
                                        value="{/symptoms}"/>

                                    <!-- field - condition code  -->
                                    <Label text="{i18n>condCode}" required="true"/>
                                    <Input 
                                        valueStateText="{i18n>notNullText}"
                                        valueState="{/condCodeState}" 
                                        id="quantity"
                                        liveChange="genInfoValidation"
                                        placeholder="{i18n>condCodeInputText}"
                                        value="{/condCode}"/>
                                </form:SimpleForm>
                            </WizardStep>

                            <!-- fourth step - item details -->
                            <WizardStep id="itemDataStep" title="{i18n>itemDataStepTitle}">
                                <form:SimpleForm layout="ResponsiveGridLayout" editable="true">

                                    <IconTabBar 
                                        id="itemDetailsBar"
                                        expanded="{device>/isNoPhone}"
                                        class="sapUiResponsiveContentPadding">
                                    
                                        <items>
                                            <IconTabFilter text="{i18n>parts}" key="Parts">
                                                <Table id="partsTable" inset="false">
                                                    <columns>
                                                        <Column> <Text text="{i18n>itemNumber}" /> </Column>
                                                        <Column> <Text text="{i18n>quantity}" /> </Column>
                                                        <Column> <Text text="{i18n>partReturn}" /> </Column>
                                                    </columns>

                                                    <items></items>
                                                </Table>
                                            </IconTabFilter>

                                            <IconTabFilter text="{i18n>services}" key="Services">
                                                <Text text="{i18n>servicesTable}"></Text>
                                            </IconTabFilter>

                                            <IconTabFilter text="{i18n>sublets}" key="Sublets">
                                                <Text text="{i18n>subletsTable}"></Text>
                                            </IconTabFilter>
                                        </items>
                                    </IconTabBar>

                                </form:SimpleForm>
                            </WizardStep>

                            <!-- fifth step - upload files  -->
                            <WizardStep id="uploadSection" title="{i18n>uploadSectionTitle}">

                                    <VBox width="100%">
                                        <IconTabBar 
                                            id="commentsDetailsBar"
                                            expanded="{device>/isNoPhone}"
                                            class="sapUiResponsiveContentPadding">
                                        
                                            <items>

                                                <!-- field - probCondition  -->
                                                <IconTabFilter text="{i18n>probCondition}" key="probCondition">
                                                    <TextArea id="probCondition" 
                                                        rows="8" 
                                                        value="{/probCondition}" 
                                                        placeholder="{i18n>probConditionText}"
                                                        width="100%"/>
                                                </IconTabFilter>

                                                <!-- field - probCause  -->
                                                <IconTabFilter text="{i18n>probCause}" key="probCause">
                                                    <TextArea id="probCause" 
                                                        rows="8" 
                                                        value="{/probCause}" 
                                                        placeholder="{i18n>probCauseText}"
                                                        width="100%"/> 
                                                </IconTabFilter>

                                                <!-- field - probDiagnosis  -->
                                                <IconTabFilter text="{i18n>probDiagnosis}" key="probDiagnosis">
                                                    <TextArea id="probDiagnosis" 
                                                        rows="8" 
                                                        value="{/probDiagnosis}" 
                                                        placeholder="{i18n>probDiagnosisText}"
                                                        width="100%"/> 
                                                </IconTabFilter>

                                                <!-- field - probSolution  -->
                                                <IconTabFilter text="{i18n>probSolution}" key="probSolution">
                                                    <TextArea id="probSolution" 
                                                        rows="8" 
                                                        value="{/probSolution}" 
                                                        placeholder="{i18n>probSolutionText}"
                                                        width="100%"/> 
                                                </IconTabFilter>
                                            </items>
                                        </IconTabBar>
                                    </VBox>

                                    <VBox width="100%">
                                        <Table 
                                            id="attachmentTable"
                                            sticky="HeaderToolbar"
                                            mode="MultiSelect"
                                            fixedLayout="false"
                                            inset="true">

                                            <headerToolbar>
                                                <OverflowToolbar>
                                                    <Title text="Attachments" level="H2" />
                                                    <ToolbarSpacer />
                                                    <SearchField width="20%" />
                                                    <ToolbarSeparator />
                                                    <Button icon="sap-icon://upload" text="Upload" press=".onUploadPress" />
                                                </OverflowToolbar>
                                            </headerToolbar>

                                            <columns>
                                                <Column id="fileName">
                                                    <header>
                                                        <Label text="File Name"></Label>
                                                    </header>
                                                </Column>

                                                <Column id="id">
                                                    <header>
                                                        <Label text="ID"></Label>
                                                    </header>
                                                </Column>

                                                <Column id="fileSize">
                                                    <header>
                                                        <Label text="File Size"></Label>
                                                    </header>
                                                </Column>
                                            </columns>
                                        </Table>
                                    </VBox>

                            

                                <!-- </form:SimpleForm> -->
                            </WizardStep>

                            <!-- step 6 - review  -->
                            <WizardStep id="reviewPage" title="{i18n>reviewPageTitle}">
                                <content>

                                    <!-- step 1 details review  -->
                                    <form:SimpleForm
                                        title="{i18n>genDetailsText}"
                                        editable="false"
                                        layout="ResponsiveGridLayout">
                                        <form:content>

                                            <Label text="{i18n>claimType}" />
                                            <Text id="claimTypeChosen" text="{/claimType}"></Text>
                                            
                                            <Label text="{i18n>vinNumber}" />
                                            <Text id="vinNumberChosen" text="{/vinNumber}"></Text>

                                            <!-- <Label text="{i18n>vinDetails}" />
                                            <Text id="vinDetailsChosen" text="{/vinDetails}"></Text> -->
                                        </form:content>
                                    </form:SimpleForm>

                                    <!-- step 2 details review  -->
                                    <form:SimpleForm
                                        title="{i18n>docDataStepTitle}"
                                        editable="false"
                                        layout="ResponsiveGridLayout">
                                        <form:content>
                                            <Label text="{i18n>repStartDate}" />
                                            <Text id="repStartDateChosen" text="{/repStartDate}"></Text>

                                            <Label text="{i18n>repEndDate}" />
                                            <Text id="repEndDateChosen" text="{/repEndDate}"></Text>

                                            <Label text="{i18n>odoReading}" />
                                            <Text id="odoReadingChosen" text="{/odoReading}"></Text>

                                            <Label text="{i18n>serOrderNo}" />
                                            <Text id="serOrderNoChosen" text="{/serOrderNo}"></Text>

                                            <Label text="{i18n>distributor}" />
                                            <Text id="distributorChosen" text="{/distributor}"></Text>

                                            <Label text="{i18n>campaignNo}" />
                                            <Text id="campaignNoChosen" text="{/campaignNo}"></Text>
                                        </form:content>
                                    </form:SimpleForm>

                                    <!-- step 3 details review  -->
                                    <form:SimpleForm
                                        title="{i18n>versionDataStepTitle}"
                                        editable="false"
                                        layout="ResponsiveGridLayout">
                                        <form:content>
                                            <Label text="{i18n>PFP}" />
                                            <Text id="PFPChosen" text="{/PFP}"></Text>

                                            <Label text="{i18n>symptoms}" />
                                            <Text id="symptomsChosen" text="{/symptoms}"></Text>

                                            <Label text="{i18n>condCode}" />
                                            <Text id="condCodeChosen" text="{/condCode}"></Text>
                                        </form:content>
                                    </form:SimpleForm>

                                    <!-- step 4 details review  -->
                                    <!-- <form:SimpleForm
                                        title="{i18n>itemDataStepTitle}"
                                        editable="false"
                                        layout="ResponsiveGridLayout">
                                        <form:content>
                                            <Label text="{i18n>comments}" />
                                            <Text id="commentsChosen" text="{/comments}"></Text>
                                        </form:content>
                                    </form:SimpleForm> -->

                                    <!-- step 5 details review  -->
                                    <form:SimpleForm
                                        title="{i18n>uploadSectionTitle}"
                                        editable="false"
                                        layout="ResponsiveGridLayout">
                                        <form:content>
                                            <Label text="{i18n>probCondition}" />
                                            <Text id="probConditionChosen" text="{/probCondition}"></Text>

                                            <Label text="{i18n>probCause}" />
                                            <Text id="probCauseChosen" text="{/probCause}"></Text>

                                            <Label text="{i18n>probDiagnosis}" />
                                            <Text id="probDiagnosisChosen" text="{/probDiagnosis}"></Text>

                                            <Label text="{i18n>probSolution}" />
                                            <Text id="probSolutionChosen" text="{/probSolution}"></Text>
                                        </form:content>
                                    </form:SimpleForm>
                                </content>
                            </WizardStep>
                        </Wizard>
                    </content>
                </Page>
            </pages>
    </NavContainer>
    </App>
    
</mvc:View>